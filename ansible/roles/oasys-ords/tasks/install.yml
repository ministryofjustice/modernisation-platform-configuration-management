---
- name: create dirs
  file:
    path:
    state: directory
    owner: oracle
    group: dba
    mode: 0755
    recurse: true
  loop:
    - "{{ oasys_ords_tomcat_dir }}"
    - "{{ oasys_ords_dir }}"

- name: install xfsprogs
  yum:
    name: xfsprogs
    state: present

- name: get artefects
  amazon.aws.aws_s3:
    bucket: "{{ s3_bucket }}"
    object: "{{ item.obj }}"
    dest: "/tmp/{{ item.obj }}"
    mode: get
  loop: "{{ ords_artefact_list }}"

- name: unarchive artefacts
  ansible.builtin.unarchive:
    src: "/tmp/{{ item.obj }}"
    dest: "{{ item.dest}}"
  loop: "{{ ords_artefact_list }}"
