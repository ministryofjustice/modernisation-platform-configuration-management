---
- name: Include OS-specific variables
  include_vars: "redhat.yml"
  tags:
    - ec2provision
    - ec2patch
  when: ansible_os_family == 'RedHat'

# collectd is not run on weblogic (nomis-web) instances as installing this on Rhel 6 isn't implemented yet.
- include_tasks: "collectd.yml"
  tags:
    - ec2provision
    - ec2patch
  when: ansible_os_family == 'RedHat'

- include_tasks: "cloudwatch-agent.yml"
  tags:
    - ec2provision
    - ec2patch
  when: ansible_os_family == 'RedHat'

- include_tasks: "cloudwatch-agent-helper.yml"
  tags:
    - ec2provision
    - ec2patch
  when: ansible_os_family == 'RedHat'
