---
- import_tasks: prereqs.yml
  tags:
    - always

- name: Create new directories
  ansible.builtin.file:
    path: "{{ item }}"
    owner: "{{ oracle_install_user }}"
    group: "{{ oracle_install_group }}"
    state: directory
    recurse: yes
  loop:
    - "{{ app_dir }}"
    - "{{ grid_base }}"
    - "{{ database_base }}"
    - "{{ database_home }}"
    - "{{ grid_home }}"
    - "{{ temp }}"
    - "{{ stage }}"
    - "{{ stage}}/psu"
  tags:
    - amibuild
    - oracle_19c_download
    - oracle_19c_create_dirs

- import_tasks: download_software.yml
  tags:
    - amibuild
    - oracle_19c_download
    - oracle_19c_download_software

- import_tasks: pre_install_tasks.yml
  tags:
    - ec2provision
    - oracle_19c_install
    - oracle_19c_pre_install

- import_tasks: configure_asm.yml
  tags:
    - ec2provision
    - oracle_19c_install
    - oracle_19c_configure_asm

- import_tasks: install_grid.yml
  tags:
    - ec2provision
    - oracle_19c_install
    - oracle_19c_install_grid

- import_tasks: install_database.yml
  tags:
    - ec2provision
    - oracle_19c_install
    - oracle_19c_install_database

- import_tasks: post_install_tasks.yml
  tags:
    - ec2provision
    - oracle_19c_install
    - oracle_19c_post_install
