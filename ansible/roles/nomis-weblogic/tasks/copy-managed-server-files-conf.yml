---
- name: Update forms config
  import_tasks: copy-forms-conf.yml

- name: Copy template files
  ansible.builtin.template:
    src: "10.3{{ item }}"
    dest: "{{ item }}"
    owner: oracle
    group: oinstall
  loop:
    - /u01/app/oracle/Middleware/forms_home/network/admin/tnsnames.ora
    - /u01/app/oracle/Middleware/forms_instance/config/tnsnames.ora
    - /u01/app/oracle/Middleware/forms_instance/config/OHS/ohs1/httpd.conf
    - /u01/app/oracle/Middleware/forms_instance/config/OHS/ohs1/mod_wl_ohs.conf
    - /u01/app/oracle/Middleware/forms_instance/config/FormsComponent/forms/admin/resource/US/fmrweb.res
    - /u01/app/oracle/Middleware/forms_instance/config/FormsComponent/forms/admin/resource/US/fmrweb_utf8.res
    - /u01/app/oracle/Middleware/forms_instance/config/FormsComponent/forms/server/webutil.cfg
    - /u01/app/oracle/Middleware/forms_instance/config/FormsComponent/forms/server/webutiljpi.htm
    - /u01/app/oracle/Middleware/user_projects/domains/NomisDomain/config/fmwconfig/servers/WLS_FORMS/applications/formsapp_11.1.2/config/formsweb.cfg
    - /u01/app/oracle/Middleware/user_projects/domains/NomisDomain/config/fmwconfig/servers/WLS_FORMS/applications/formsapp_11.1.2/config/tag.env
    - /u01/app/oracle/Middleware/user_projects/domains/NomisDomain/config/fmwconfig/servers/WLS_REPORTS/applications/reports_11.1.2/configuration/rwservlet.properties
    - /u01/app/oracle/Middleware/user_projects/domains/NomisDomain/bin/setDomainEnv.sh
    - /u01/tag/static/OMSS40.htm
    - /u01/tag/static/TAGLIB.js
    - /u01/tag/server/bo/conf/config.properties

- name: Copy report server config
  ansible.builtin.template:
    src: "10.3/u01/app/oracle/Middleware/forms_instance/config/ReportsServerComponent/RptSvr_forms_instance/rwserver.conf"
    dest: "/u01/app/oracle/Middleware/forms_instance/config/ReportsServerComponent/{{ weblogic_report_servername }}/rwserver.conf"
    owner: oracle
    group: oinstall
