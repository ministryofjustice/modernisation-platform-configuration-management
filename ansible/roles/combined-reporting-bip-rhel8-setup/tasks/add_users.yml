---
- name: Add the bobj user
  ansible.builtin.user:
    name: bobj
    uid: 1201
    comment: bobj
    groups: dba,binstall
    password: "{{ 'bobj' | password_hash('sha512') }}"
    home: /home/bobj bobj

- name: Assign bobj permissions
  ansible.builtin.file:
    path: "{{ item }}"
    state: directory
    owner: bobj
    group: binstall
    mode: "0775"
  loop:
    - "{{ sap_bi_platform_installation_directory }}"
    - "{{ sap_bi_platform_extraction_directory }}"

- name: Add the Oracle user
  ansible.builtin.user:
    name: oracle
    comment: Oracle
    groups: oinstall,dba,wheel
    password: "{{ 'password' | password_hash('sha512') }}"
    home: /home/oracle oracle

- name: Assign 775 oracle permissions
  ansible.builtin.file:
    path: "{{ item }}"
    state: directory
    owner: oracle
    group: oinstall
    mode: "0775"
  loop:
    - /u01/stage/
    - /u01/app/oracle/

- name: Assign 770 oracle permissions
  ansible.builtin.file:
    path: /u01/app/oraInventory/
    state: directory
    owner: oracle
    group: oinstall
    mode: "0770"
