#!/bin/bash
# GoldenGate Audit Reference Replicat Start Script
# Generated by Ansible

GGHOME={{ oracle_goldengate_home }}
REPLICAT_NAME={{ oracle_goldengate_group.auditref.replicat_name }}
LOG={{ oracle_goldengate_log_dir }}/start_{{ oracle_goldengate_group.auditref.replicat_name }}_$(date +%Y%m%d_%H%M%S).log

cd ${GGHOME}

echo "Starting Replicat ${REPLICAT_NAME}..."

./ggsci << EOF >"$LOG" 2>&1
START REPLICAT ${REPLICAT_NAME}
INFO REPLICAT ${REPLICAT_NAME}
EXIT
EOF

if [ $? -eq 0 ]; then
    echo "Replicat ${REPLICAT_NAME} started successfully"
    exit 0
else
    echo "Failed to start Replicat ${REPLICAT_NAME}"
    exit 1
fi
